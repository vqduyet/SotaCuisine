<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="./../layout/mainLayout.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns="http://www.w3.org/1999/xhtml">

    <ui:define name="title">
        <title>Order Detail</title>
    </ui:define>

    <ui:define name="content">
        <style>
            .page-title{
                background-color: #ccc;
                padding-top: 5px;
                padding-bottom: 5px;
                margin: 20px 10px 20px 5px;                
                border-radius: 10px;
                color: #026660;                
            }
            .page-title h3 {
                padding-top: 5px;
                font-size: x-large;
                font-weight: bold;
            }
            table.table-condensed td{
                color: #000 !important;
                font-size: 14px !important;
            }
            .dataTables_wrapper>.row {
                overflow: auto !important;                
            }
            table.dataTable{
                font-size: 14px;
            }
            table.dataTable a{
                font-size: 11px;
                margin: 2px;
            }
            .dataTables_info {
                width: 60%;
                float: left;
            }
            .dataTables_paginate {
                float: right;
            }
            .tb-order .form-control{
                border: 1px solid #ccc !important;
            }
            .dataTables_info, .dataTables_paginate{
                font-size: 13px !important;
            }
            .tb-order-summary td{
                border: none !important;
            }
        </style>
        <div class="content">
            <div class="container" style="margin-top: 20px; margin-bottom: 20px">
                <div class="col-lg-12 col-md-12 col-sm-12">
                    <div class="col-lg-3 col-md-3 col-sm-3 animated fadeIn" align="left">
                        <br/>
                        <div class="menu-account">
                            <h3>
                                <span style="font-weight: bold; font-size: x-large; color: #026660">INFORMATION</span>
                            </h3>
                            <ul>
                                <li>
                                    <a href="profile.xhtml" style="padding-left: 10px; font-size: large"><i class="fa fa-user">&nbsp;&nbsp; Profile</i></a>
                                </li>
                                <li>
                                    <a href="changePassword.xhtml" style="padding-left: 10px; font-size: large"><i class="fa fa-key">&nbsp;&nbsp; Change Password</i></a>
                                </li>
                                <li>
                                    <a href="order_history.xhtml" style="padding-left: 10px; font-size: large"><i class="fa fa-history">&nbsp;&nbsp; Order History</i></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-9 col-md-9 col-sm-9">
                        <div class="col-md-12 page-title animated fadeInRight">
                            <h3 class="col-md-6"><i class="fa fa-file-text"></i> ORDER DETAILS</h3>
                            <div class="col-md-6">
                                <a href="#{request.contextPath}/member/order_history.xhtml" class="btn btn-info pull-right">Back to List <i class="fa fa-backward"></i></a>
                            </div>
                        </div>
                        <div class="grid_3 grid_5">
                            <div class="row">
                                <!-- order summary -->
                                <div class="col-lg-5 col-md-5 col-sm-5 animated fadeInDown" style="padding: 20px; border-radius: 7px;">
                                    <div class="row">
                                        <h3 style="font-size: 25px; font-weight: bold; text-align: center; margin-bottom: 10px; color:#4c7576;">Order Summary</h3>
                                    </div>
                                    <div class="row">
                                        <hr style="border-bottom: solid 1px #fff;"/>
                                    </div>
                                    <div class="table-responsive">                        
                                        <table class="table table-condensed tb-order-summary">               
                                            <tr>
                                                <td>Order ID :</td>
                                                <td style="text-align: right;">#{usersMB.selectedUserOrder.id}</td>
                                            </tr>
                                            <tr>
                                                <td>Customer Name :</td>
                                                <td style="text-align: right;">#{usersMB.selectedUserOrder.usersName}</td>
                                            </tr>
                                            <tr>
                                                <td>Phone :</td>
                                                <td style="text-align: right;">#{usersMB.selectedUserOrder.usersPhone}</td>
                                            </tr>
                                            <tr>
                                                <td>Address :</td>
                                                <td style="text-align: right;">#{usersMB.selectedUserOrder.shippingAddress}</td>
                                            </tr>
                                            <tr>
                                                <td>District :</td>
                                                <td style="text-align: right;">#{usersMB.selectedUserOrder.district.district}</td>
                                            </tr>                                            
                                            <tr>
                                                <td>Total Quantity :</td>
                                                <td style="text-align: right;"><i class="badge badge-danger">#{usersMB.selectedUserOrder.quantity}</i></td>
                                            </tr>
                                            <tr>
                                                <td>Total Amount (+VAT) :</td>
                                                <td style="text-align: right;">
                                                    <i class="badge badge-danger">
                                                        <h:outputText value="#{usersMB.selectedUserOrder.amount}">
                                                            <f:convertNumber type="currency"
                                                                             currencyCode="VND"
                                                                             locale="vi-VN"/>
                                                        </h:outputText> 
                                                    </i>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Shipping Fee :</td>
                                                <td style="text-align: right;">
                                                    <i class="badge badge-danger">
                                                        <h:outputText value="#{usersMB.selectedUserOrder.shippingFee}">
                                                            <f:convertNumber type="currency"
                                                                             currencyCode="VND"
                                                                             locale="vi-VN"/>
                                                        </h:outputText> 
                                                        
                                                    </i>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Date :</td>
                                                <td style="text-align: right;">
                                                    <h:outputText value="#{usersMB.selectedUserOrder.created}" >
                                                        <f:convertDateTime pattern="dd-MM-yyyy" />
                                                    </h:outputText> 
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>Status :</td>
                                                <td style="text-align: right;">#{usersMB.selectedUserOrder.status}</td>
                                            </tr>                          
                                        </table>
                                    </div>
                                </div>
                                <!-- /order summary -->
                                <!-- order details -->
                                <div class="col-md-7 animated fadeInRight" >
                                    <div class="checkout-cart" style="padding: 20px; margin-bottom: 15px; border-radius: 7px;">
                                        <div class="row">                            
                                            <h3 style="font-size: 25px; font-weight: bold; text-align: center; margin-bottom: 10px; color:#4c7576;">Order Detail</h3>                                                  
                                        </div>                        
                                        <div class="row">
                                            <hr style="border-bottom: solid 1px #fff;"/>
                                        </div>
                                        <!-- item -->
                                        <ui:repeat value="#{usersMB.selectedUserOrderDetailList}" var="row">
                                            <div class="cart-item">
                                                <div class="col-md-3" style="margin-top:15px !important;">
                                                    <h:graphicImage value="#{resource[row.products.imageLink]}" class="img-responsive"/>
                                                </div>
                                                <div class="col-md-9" style="margin-bottom: 20px;">                                
                                                    <h4 style="font-size: 20px; margin-bottom: 5px; margin-top: 5px;">#{row.products.name}</h4>
                                                    <table class="table">
                                                        <tr>
                                                            <td>Quantity: <i class="badge badge-primary">#{row.quantity}</i></td>
                                                            <td>Price: 
                                                                <i class="badge badge-primary">
                                                                    <h:outputText value="#{row.price}">
                                                                        <f:convertNumber type="currency"
                                                                                         currencyCode="VND"
                                                                                         locale="vi-VN"/>
                                                                    </h:outputText>
                                                                </i>
                                                            </td>
                                                            <td>Subtotal: 
                                                                <i class="badge badge-primary">
                                                                    <h:outputText value="#{row.amount}">
                                                                        <f:convertNumber type="currency"
                                                                                         currencyCode="VND"
                                                                                         locale="vi-VN"/>
                                                                    </h:outputText>
                                                                </i>
                                                            </td>
                                                        </tr>
                                                    </table>                                
                                                </div>
                                            </div>
                                        </ui:repeat>
                                        
                                        <!-- /item-->
                                        <div class="clearfix"></div>
                                    </div>

                                </div>
                                <!-- /order details -->
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ui:define>

</ui:composition>
